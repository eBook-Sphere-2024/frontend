<section class="comments">
    <h3 class="header"><i class="fa-solid fa-comments"></i>&nbsp;&nbsp;Comments</h3>
    <ng-template class="reply-input-template">
        <div class="reply-input containerr">
            <img src="images/avatars/image-juliusomo.webp" alt="" class="usr-img">
            <textarea class="cmnt-input" placeholder="Add a comment..."></textarea>
            <button class="bu-primary">SEND</button>
        </div>
    </ng-template>

    <ng-template ngFor let-comment [ngForOf]="comments" class="comment-template">
        <div class="comment-wrp">
            <app-comment-item [comment]="comment"></app-comment-item>
        </div>
    </ng-template>

    <main>
        <div class="comment-section" *ngIf="userProfile">
            <div class="comments-wrp">
            </div>
            <div class="containerr" style="max-height: 200px;">
                <div class="rating">
                    <input type="number" name="rating" id="ratingValue" hidden>
                    <i class='bx bx-star star' style="--i: 0;"></i>
                    <i class='bx bx-star star' style="--i: 1;"></i>
                    <i class='bx bx-star star' style="--i: 2;"></i>
                    <i class='bx bx-star star' style="--i: 3;"></i>
                    <i class='bx bx-star star' style="--i: 4;"></i>
                </div>
                <div class="reply-input">
                    <img src="{{userProfile.avatar}}" alt="" class="usr-img">
                    <form [formGroup]="commentForm" (ngSubmit)="submitComment()" class="NewCommentForm">
                        <textarea class="cmnt-input" formControlName="formMessage" placeholder="Add a comment..."
                            required></textarea>
                        <div *ngIf="commentForm?.get('formMessage')?.hasError('required') && commentForm?.get('formMessage')?.touched"
                            class="error-message">
                            Message is required.
                        </div>
                        <div *ngIf="commentForm?.get('formMessage')?.hasError('minlength') && commentForm?.get('formMessage')?.touched"
                            class="error-message">
                            Message must be at least 4 characters long.
                        </div>
                        <button type="submit" class="bu-primary" [disabled]="commentForm.invalid">SEND</button>
                    </form>
                </div>

            </div>
            <div class="modal-wrp invisible">
                <div class="modal container">
                    <h3>Delete comment</h3>
                    <p>Are you sure you want to delete this comment? This will remove the comment and can't be undone
                    </p>
                    <button class="yes">YES, DELETE</button>
                    <button class="no">NO, CANCEL</button>
                </div>
            </div>
        </div>
    </main>
</section>